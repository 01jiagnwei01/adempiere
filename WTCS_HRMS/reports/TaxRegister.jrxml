<?xml version="1.0" encoding="UTF-8"  ?>
<!-- $Id: TaxRegister.jrxml 1009 2012-02-09 09:16:13Z suman $ --> 
 <!-- Created with iReport - A designer for JasperReports -->
<!DOCTYPE jasperReport PUBLIC "//JasperReports//DTD Report Design//EN" "http://jasperreports.sourceforge.net/dtds/jasperreport.dtd">
<jasperReport
		 name="TaxRegister"
		 columnCount="1"
		 printOrder="Vertical"
		 orientation="Landscape"
		 pageWidth="2500"
		 pageHeight="842"
		 columnWidth="2440"
		 columnSpacing="0"
		 leftMargin="30"
		 rightMargin="30"
		 topMargin="20"
		 bottomMargin="20"
		 whenNoDataType="NoDataSection"
		 isTitleNewPage="false"
		 isSummaryNewPage="false">
	<property name="ireport.scriptlethandling" value="0" />
	<property name="ireport.encoding" value="UTF-8" />
	<import value="java.util.*" />
	<import value="net.sf.jasperreports.engine.*" />
	<import value="net.sf.jasperreports.engine.data.*" />

	<parameter name="FromDate" isForPrompting="true" class="java.sql.Timestamp"/>
	<parameter name="ToDate" isForPrompting="true" class="java.sql.Timestamp"/>
	<parameter name="AD_Client_ID" isForPrompting="true" class="java.math.BigDecimal"/>
	<parameter name="isSOTrx" isForPrompting="true" class="java.lang.String"/>
	<parameter name="WTC_TaxIndicator_ID" isForPrompting="true" class="java.math.BigDecimal"/>
	<queryString><![CDATA[SELECT 
    Distinct  base.InvoiceDate ,  
    base.Particulars,
    (
      SELECT COALESCE(SUM(cl1.qtyinvoiced),0)  
         FROM C_Invoiceline cl1 
         where cl1.C_InvoiceLine_ID  IN ( SELECT cll.C_InvoiceLine_ID 
                                      FROM C_invoice ci1 
                                      JOIN C_InvoiceLine cll ON (ci1.C_Invoice_ID=cll.C_Invoice_ID) 
                                      JOIN C_BPartner cbp1 ON (cbp1.C_BPartner_ID=ci1.C_BPartner_ID ) 
                                     -- JOIN C_InvoiceTax citax ON citax.C_Invoice_ID = ci1.C_Invoice_ID 
                                     -- JOIN C_Tax tax1 ON tax1.C_Tax_ID = citax.C_Tax_ID 
                                      JOIN C_Tax tax1 ON tax1.C_Tax_ID = cll.C_Tax_ID 
                                      JOIN WTC_TaxIndicator taxind1 ON ( ( taxind1.WTC_TaxIndicator_ID = tax1.WTC_TaxIndicator_ID ) AND (taxind1.WTC_TaxIndicator_ID = $P{WTC_TaxIndicator_ID} ) )
                                      WHERE (ci1.dateInvoiced=base.InvoiceDate )   --For The Base Date .
                                      AND (ci1.docstatus ='CO') 
                                      AND ci1.issotrx= $P{isSOTrx} 
                                      AND cbp1.C_BPartner_ID = base.C_BPartner_ID              --For The Base Business Partner.
                                      AND ci1.AD_Client_ID  = $P{AD_Client_ID}
                                      AND taxind1.WTC_TaxIndicator_ID = $P{WTC_TaxIndicator_ID} 
                                    )
    ) AS QtyInvocied ,
    (
       SELECT COALESCE(SUM(cinvol.qtyinvoiced),0)  FROM C_InvoiceLine cinvol
       WHERE cinvol.C_InvoiceLine_ID IN 
       (
                SELECT   Distinct cil3.C_InvoiceLine_ID  --,  cil3.qtyinvoiced 
                --FROM C_InvoiceTax cit4  --Some Time These Entries Will Miss , So At That Time calculations Seems To Be Wrong So Included This.
                FROM C_Invoice ci4 
                --JOIN C_Invoice ci4 ON ((ci4.C_Invoice_ID=cit4.C_Invoice_ID) AND (ci4.docstatus ='CO') ) 
                JOIN C_InvoiceLine cil3 ON (ci4.C_Invoice_ID=cil3.C_Invoice_ID) 
                -- JOIN C_BPartner cbp4 ON (cbp4.C_BPartner_ID=ci4.C_BPartner_ID) 
                -- JOIN C_Tax ct4 ON ( ct4.C_Tax_ID=cit4.C_Tax_ID)  
                JOIN C_Tax ct4 ON ( ct4.C_Tax_ID=cil3.C_Tax_ID)  
                JOIN WTC_TaxIndicator taxind2 ON ( ( taxind2.WTC_TaxIndicator_ID = ct4.WTC_TaxIndicator_ID ) AND (taxind2.WTC_TaxIndicator_ID = $P{WTC_TaxIndicator_ID} ) )
                WHERE ci4.issotrx= $P{isSOTrx}   
                AND  (ci4.docstatus ='CO')
                AND ci4.dateInvoiced BETWEEN   $P{FromDate} AND $P{ToDate}      
                AND (taxind2.WTC_TaxIndicator_ID = $P{WTC_TaxIndicator_ID} )
                --AND ci4.dateInvoiced = base.InvoiceDate 
                AND ci4.AD_Client_ID  = $P{AD_Client_ID}
       )
    ) AS TotalInvoiceQuatity,
    (
      SELECT  COALESCE(SUM(cit1.taxbaseamt),0)  
         FROM C_InvoiceTax cit1 
         JOIN C_Invoice ci2 ON  ((ci2.C_Invoice_ID=cit1.C_Invoice_ID) AND (ci2.docstatus ='CO') ) 
         JOIN C_BPartner cbp2 ON ((cbp2.C_BPartner_ID=ci2.C_BPartner_ID) AND (cbp2.C_BPartner_ID = base.C_BPartner_ID ) ) 
         JOIN C_Tax ct1 ON ( ct1.C_Tax_ID=cit1.C_Tax_ID) 
         JOIN WTC_TaxIndicator taxind3 ON ( ( taxind3.WTC_TaxIndicator_ID = ct1.WTC_TaxIndicator_ID ) AND (taxind3.WTC_TaxIndicator_ID = $P{WTC_TaxIndicator_ID} ) )
         WHERE ci2.issotrx= $P{isSOTrx}  
         AND cbp2.C_BPartner_ID = base.C_BPartner_ID 
         AND  (ci2.docstatus ='CO')
         AND (taxind3.WTC_TaxIndicator_ID = $P{WTC_TaxIndicator_ID} ) 
         AND ci2.dateInvoiced =base.InvoiceDate 
         AND ci2.AD_Client_ID  = $P{AD_Client_ID}
    ) AS TotalBaseValue ,
    (
       SELECT COALESCE(SUM(cTaxTotal.taxbaseamt),0)  
       FROM  C_InvoiceTax cTaxTotal 
       JOIN C_Tax ta1 ON ta1.C_Tax_ID = cTaxTotal.C_Tax_ID 
       INNER JOIN WTC_TaxIndicator taxind0 ON ( ( taxind0.WTC_TaxIndicator_ID = ta1.WTC_TaxIndicator_ID ) AND (taxind0.WTC_TaxIndicator_ID = $P{WTC_TaxIndicator_ID} ) )
       WHERE cTaxTotal.C_InvoiceLine_ID IN 
              (
                SELECT   Distinct cinvl2.C_InvoiceLine_ID  
                FROM C_InvoiceTax cit5  --Some Time These Entries Will Miss , So At That Time calculations Seems To Be Wrong So Included This.
                JOIN C_Invoice ci5 ON ((ci5.C_Invoice_ID=cit5.C_Invoice_ID) AND (ci5.docstatus ='CO') ) 
                JOIN C_InvoiceLine cinvl2 ON (cinvl2.C_Invoice_ID = ci5.C_Invoice_ID ) 
                JOIN C_Tax tax2 ON tax2.C_Tax_ID = cit5.C_Tax_ID 
                JOIN WTC_TaxIndicator taxind3 ON ( ( taxind3.WTC_TaxIndicator_ID = tax2.WTC_TaxIndicator_ID ) AND (taxind3.WTC_TaxIndicator_ID = $P{WTC_TaxIndicator_ID} ) )
                WHERE ci5.issotrx= $P{isSOTrx}   
                AND  (ci5.docstatus ='CO')
                AND (taxind3.WTC_TaxIndicator_ID = $P{WTC_TaxIndicator_ID} ) 
                AND ci5.dateInvoiced BETWEEN   $P{FromDate} AND $P{ToDate}      
                AND ci5.AD_Client_ID  = $P{AD_Client_ID}
              )
    ) AS GrandBaseValue,
    (
      SELECT  COALESCE(SUM(cit2.taxAmt) ,0) 
         FROM C_InvoiceTax cit2 
         JOIN C_Invoice ci3 ON ((ci3.C_Invoice_ID=cit2.C_Invoice_ID) AND (ci3.docstatus ='CO') ) 
         JOIN C_BPartner cbp3 ON ((cbp3.C_BPartner_ID=ci3.C_BPartner_ID) AND (cbp3.C_BPartner_ID = base.C_BPartner_ID ) ) 
         JOIN C_Tax ct2 ON ( ct2.C_Tax_ID=cit2.C_Tax_ID) 
         JOIN WTC_TaxIndicator taxind4 ON ( ( taxind4.WTC_TaxIndicator_ID = ct2.WTC_TaxIndicator_ID ) AND (taxind4.WTC_TaxIndicator_ID = $P{WTC_TaxIndicator_ID} ) )
         WHERE ci3.issotrx= $P{isSOTrx}     
         AND cbp3.C_BPartner_ID = base.C_BPartner_ID 
         AND (ci3.docstatus ='CO')
         AND ci3.dateInvoiced = base.InvoiceDate 
         AND (taxind4.WTC_TaxIndicator_ID = $P{WTC_TaxIndicator_ID} )
         AND ci3.AD_Client_ID  = $P{AD_Client_ID}
    ) AS TotalVATClaimed ,
    (
       SELECT COALESCE(SUM(cTaxTotal.taxAmt),0)  
       FROM  C_InvoiceTax cTaxTotal 
       JOIN  C_Tax ta2 ON ta2.C_Tax_ID = cTaxTotal.C_Tax_ID 
       INNER JOIN WTC_TaxIndicator taxind9 ON ( ( taxind9.WTC_TaxIndicator_ID = ta2.WTC_TaxIndicator_ID ) AND (taxind9.WTC_TaxIndicator_ID = $P{WTC_TaxIndicator_ID} ) )
       WHERE cTaxTotal.C_Invoice_ID IN 
              (
                SELECT   Distinct ci5.C_Invoice_ID  
                FROM C_InvoiceTax cit5  --Some Time These Entries Will Miss , So At That Time calculations Seems To Be Wrong So Included This.
                JOIN C_Invoice ci5 ON ((ci5.C_Invoice_ID=cit5.C_Invoice_ID) AND (ci5.docstatus ='CO') ) 
                JOIN C_InvoiceLine cinvl9 ON (cinvl9.C_Invoice_ID = ci5.C_Invoice_ID ) 
                JOIN C_Tax ct3 ON ( ct3.C_Tax_ID=cit5.C_Tax_ID) 
                JOIN WTC_TaxIndicator taxind5 ON ( ( taxind5.WTC_TaxIndicator_ID = ct3.WTC_TaxIndicator_ID ) AND (taxind5.WTC_TaxIndicator_ID = $P{WTC_TaxIndicator_ID} ) )
                WHERE ci5.issotrx= $P{isSOTrx}   
                AND  (ci5.docstatus ='CO')
                AND ci5.dateInvoiced BETWEEN   $P{FromDate} AND $P{ToDate}    
                AND ci5.AD_Client_ID  = $P{AD_Client_ID}
                AND (taxind5.WTC_TaxIndicator_ID = $P{WTC_TaxIndicator_ID} )
              )
    ) AS GrandTaxValue,
    SUM(COALESCE(cit3.taxbaseamt,0)) AS BaseValue , 
    SUM(cit3.taxAmt) AS VATclaimed ,
    ct3.name  AS TaxName   ,
    clie.name AS ClientName      
FROM 
(
   SELECT  Distinct c1.dateInvoiced AS InvoiceDate ,
           cb1.name AS Particulars ,cb1.C_BPartner_ID 
           From C_Invoice c1 
           JOIN C_BPartner cb1 ON (cb1.C_BPartner_ID=c1.C_BPartner_ID ) 
           JOIN C_InvoiceTax cit7 ON ((c1.C_Invoice_ID=cit7.C_Invoice_ID) AND (c1.docstatus ='CO') ) 
           JOIN C_Tax ct7 ON ( ct7.C_Tax_ID=cit7.C_Tax_ID) 
           JOIN WTC_TaxIndicator taxind7 ON ( ( taxind7.WTC_TaxIndicator_ID = ct7.WTC_TaxIndicator_ID ) AND (taxind7.WTC_TaxIndicator_ID = $P{WTC_TaxIndicator_ID} ) )
           Where c1.issotrx= $P{isSOTrx}  
           AND c1.dateInvoiced BETWEEN   $P{FromDate} AND $P{ToDate}     
           AND (taxind7.WTC_TaxIndicator_ID = $P{WTC_TaxIndicator_ID} )
           AND c1.AD_Client_ID  = $P{AD_Client_ID}
   Order By c1.dateInvoiced , cb1.name 
) AS  base 
JOIN C_Invoice cinv ON (base.InvoiceDate = cinv.dateInvoiced ) 
JOIN C_InvoiceTax cit3 ON ((cinv.C_Invoice_ID=cit3.C_Invoice_ID) AND (cinv.docstatus ='CO') )  
JOIN C_Tax ct8 ON ( ct8.C_Tax_ID=cit3.C_Tax_ID) 
JOIN WTC_TaxIndicator taxind6 ON ( ( taxind6.WTC_TaxIndicator_ID = ct8.WTC_TaxIndicator_ID ) AND (taxind6.WTC_TaxIndicator_ID = $P{WTC_TaxIndicator_ID} ) ) 
JOIN C_BPartner cbp3 ON ((cbp3.C_BPartner_ID=cinv.C_BPartner_ID) AND (cbp3.C_BPartner_ID = base.C_BPartner_ID ) ) 
INNER JOIN C_Tax ct3 ON ( ct3.C_Tax_ID=cit3.C_Tax_ID) 
JOIN AD_Client clie ON clie.AD_Client_ID = cinv.AD_Client_ID 
WHERE cinv.AD_Client_ID  = $P{AD_Client_ID}
AND cinv.issotrx= $P{isSOTrx} 
AND (taxind6.WTC_TaxIndicator_ID = $P{WTC_TaxIndicator_ID} ) 
AND cinv.dateInvoiced BETWEEN   $P{FromDate} AND $P{ToDate}    
GROUP BY base.InvoiceDate ,   base.Particulars , ct3.name ,clie.name , base.C_BPartner_ID ]]></queryString>

	<field name="invoicedate" class="java.sql.Timestamp"/>
	<field name="particulars" class="java.lang.String"/>
	<field name="qtyinvocied" class="java.math.BigDecimal"/>
	<field name="totalinvoicequatity" class="java.math.BigDecimal"/>
	<field name="totalbasevalue" class="java.math.BigDecimal"/>
	<field name="grandbasevalue" class="java.math.BigDecimal"/>
	<field name="totalvatclaimed" class="java.math.BigDecimal"/>
	<field name="grandtaxvalue" class="java.math.BigDecimal"/>
	<field name="basevalue" class="java.math.BigDecimal"/>
	<field name="vatclaimed" class="java.math.BigDecimal"/>
	<field name="taxname" class="java.lang.String"/>
	<field name="clientname" class="java.lang.String"/>

	<variable name="TotalGross" class="java.math.BigDecimal" resetType="Report" calculation="Nothing">
		<variableExpression><![CDATA[$F{grandbasevalue}.add( $F{grandtaxvalue} )]]></variableExpression>
	</variable>
		<background>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</background>
		<title>
			<band height="59"  isSplitAllowed="true" >
				<staticText>
					<reportElement
						mode="Opaque"
						x="14"
						y="39"
						width="46"
						height="14"
						key="staticText-3"
						isPrintInFirstWholeBand="true"/>
					<box></box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" size="12" isBold="false"/>
					</textElement>
				<text><![CDATA[From :]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="200"
						y="39"
						width="46"
						height="14"
						key="staticText-4"
						isPrintInFirstWholeBand="true"/>
					<box></box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" size="12" isBold="false"/>
					</textElement>
				<text><![CDATA[To :]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="62"
						y="41"
						width="100"
						height="14"
						key="textField"/>
					<box></box>
					<textElement>
						<font/>
					</textElement>
				<textFieldExpression   class="java.sql.Timestamp"><![CDATA[$P{FromDate}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="247"
						y="41"
						width="100"
						height="14"
						key="textField"/>
					<box></box>
					<textElement>
						<font/>
					</textElement>
				<textFieldExpression   class="java.sql.Timestamp"><![CDATA[$P{ToDate}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="487"
						y="10"
						width="432"
						height="21"
						key="textField-1"/>
					<box></box>
					<textElement>
						<font pdfFontName="Helvetica-Bold" size="14" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$P{isSOTrx}.equals( "Y" ) ? "Sales Tax Register" : "Purchase Tax Register"]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="311"
						y="39"
						width="488"
						height="18"
						key="textField"/>
					<box></box>
					<textElement textAlignment="Center">
						<font pdfFontName="Helvetica-Bold" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{clientname}]]></textFieldExpression>
				</textField>
			</band>
		</title>
		<pageHeader>
			<band height="1"  isSplitAllowed="true" >
			</band>
		</pageHeader>
		<columnHeader>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</columnHeader>
		<detail>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</detail>
		<columnFooter>
			<band height="40"  isSplitAllowed="true" >
				<staticText>
					<reportElement
						x="21"
						y="13"
						width="835"
						height="19"
						key="staticText-6"/>
					<box></box>
					<textElement verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="14" isBold="true"/>
					</textElement>
				<text><![CDATA[NOTE :  In case any tax doesn't appear in this report then it means that the tax was not applied on any invoice.]]></text>
				</staticText>
			</band>
		</columnFooter>
		<pageFooter>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</pageFooter>
		<summary>
			<band height="90"  isSplitAllowed="true" >
				<crosstab >
					<reportElement
						x="21"
						y="13"
						width="2440"
						height="57"
						key="crosstab-1"/>
					<crosstabDataset>
						<dataset resetType="Page" >
						</dataset>
					</crosstabDataset>
					<crosstabHeaderCell>						<cellContents mode="Transparent">
					<box></box>
				<staticText>
					<reportElement
						x="179"
						y="0"
						width="62"
						height="25"
						key="staticText-1"
						stretchType="RelativeToBandHeight"/>
					<box>					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" isBold="true"/>
					</textElement>
				<text><![CDATA[Quantity]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="0"
						y="0"
						width="81"
						height="25"
						key="staticText-1"
						stretchType="RelativeToBandHeight"/>
					<box>					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" isBold="true"/>
					</textElement>
				<text><![CDATA[Date]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="81"
						y="0"
						width="98"
						height="25"
						key="staticText-1"
						stretchType="RelativeToBandHeight"/>
					<box>					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" isBold="true"/>
					</textElement>
				<text><![CDATA[Particulars]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="241"
						y="0"
						width="92"
						height="25"
						key="staticText-1"
						stretchType="RelativeToBandHeight"/>
					<box>					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" isBold="true"/>
					</textElement>
				<text><![CDATA[Value]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="333"
						y="0"
						width="82"
						height="25"
						key="staticText-1"
						stretchType="RelativeToBandHeight"/>
					<box>					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" isBold="true"/>
					</textElement>
				<text><![CDATA[Gross Total]]></text>
				</staticText>
						</cellContents>
					</crosstabHeaderCell>					<rowGroup name="invoicedate" width="81" totalPosition="End">
						<bucket>
							<bucketExpression class="java.sql.Timestamp"><![CDATA[$F{invoicedate}]]></bucketExpression>
						</bucket>
						<crosstabRowHeader>
						<cellContents mode="Transparent">
					<box></box>
				<textField isStretchWithOverflow="true" pattern="dd-MMM-yyyy" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="0"
						width="81"
						height="30"
						key="textField"
						stretchType="RelativeToBandHeight"/>
					<box>					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.sql.Timestamp"><![CDATA[$V{invoicedate}]]></textFieldExpression>
				</textField>
						</cellContents>
						</crosstabRowHeader>
						<crosstabTotalRowHeader>
						<cellContents mode="Transparent">
					<box></box>
				<staticText>
					<reportElement
						x="0"
						y="0"
						width="179"
						height="18"
						key="staticText-7"/>
					<box>					<topPen lineWidth="0.25"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
</box>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" isBold="true" isUnderline="false"/>
					</textElement>
				<text><![CDATA[         Grand total]]></text>
				</staticText>
				<rectangle radius="0" >
					<reportElement
						x="179"
						y="0"
						width="62"
						height="18"
						key="rectangle-1"/>
					<graphicElement stretchType="NoStretch">
					<pen lineWidth="0.25"/>
</graphicElement>
				</rectangle>
				<rectangle radius="0" >
					<reportElement
						x="241"
						y="0"
						width="92"
						height="18"
						key="rectangle-1"/>
					<graphicElement stretchType="NoStretch">
					<pen lineWidth="0.25"/>
</graphicElement>
				</rectangle>
				<rectangle radius="0" >
					<reportElement
						x="333"
						y="0"
						width="82"
						height="18"
						key="rectangle-1"/>
					<graphicElement stretchType="NoStretch">
					<pen lineWidth="0.25"/>
</graphicElement>
				</rectangle>
						</cellContents>
						</crosstabTotalRowHeader>
					</rowGroup>
					<rowGroup name="particulars" width="98" totalPosition="End">
						<bucket>
							<bucketExpression class="java.lang.String"><![CDATA[$F{particulars}]]></bucketExpression>
						</bucket>
						<crosstabRowHeader>
						<cellContents mode="Transparent">
					<box></box>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="0"
						width="98"
						height="30"
						key="textField"
						stretchType="RelativeToBandHeight"/>
					<box>					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$V{particulars}]]></textFieldExpression>
				</textField>
						</cellContents>
						</crosstabRowHeader>
					</rowGroup>
					<rowGroup name="QuantityInvoiced" width="62" totalPosition="End">
						<bucket>
							<bucketExpression class="java.math.BigDecimal"><![CDATA[$F{qtyinvocied}]]></bucketExpression>
						</bucket>
						<crosstabRowHeader>
						<cellContents mode="Transparent">
					<box></box>
				<textField isStretchWithOverflow="true" pattern="###0" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="0"
						width="62"
						height="30"
						key="textField"
						stretchType="RelativeToBandHeight"/>
					<box>					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$V{QuantityInvoiced}]]></textFieldExpression>
				</textField>
						</cellContents>
						</crosstabRowHeader>
					</rowGroup>
					<rowGroup name="TotalBaseAmount" width="92">
						<bucket>
							<bucketExpression class="java.math.BigDecimal"><![CDATA[$F{totalbasevalue}]]></bucketExpression>
						</bucket>
						<crosstabRowHeader>
						<cellContents mode="Transparent">
					<box></box>
				<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="0"
						width="92"
						height="30"
						key="textField"
						stretchType="RelativeToBandHeight"/>
					<box>					<topPen lineWidth="0.25" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$V{TotalBaseAmount}]]></textFieldExpression>
				</textField>
						</cellContents>
						</crosstabRowHeader>
					</rowGroup>
					<rowGroup name="GrossAmount" width="82">
						<bucket>
							<bucketExpression class="java.math.BigDecimal"><![CDATA[$F{totalbasevalue}.add($F{totalvatclaimed} )]]></bucketExpression>
						</bucket>
						<crosstabRowHeader>
						<cellContents mode="Transparent">
					<box></box>
				<textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="0"
						width="82"
						height="30"
						key="textField"
						stretchType="RelativeToBandHeight"/>
					<box>					<topPen lineWidth="0.25" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$V{GrossAmount}]]></textFieldExpression>
				</textField>
						</cellContents>
						</crosstabRowHeader>
					</rowGroup>
					<columnGroup name="taxname" height="25" totalPosition="End" headerPosition="Center">
						<bucket>
							<bucketExpression class="java.lang.String"><![CDATA[$F{taxname}]]></bucketExpression>
						</bucket>
						<crosstabColumnHeader>
						<cellContents mode="Transparent">
					<box></box>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="64"
						y="0"
						width="69"
						height="25"
						key="textField"
						stretchType="RelativeToBandHeight"/>
					<box>					<topPen lineWidth="0.25" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["OutPut  "+$V{taxname}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="0"
						width="64"
						height="25"
						key="textField"
						stretchType="RelativeToBandHeight"/>
					<box>					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$V{taxname}]]></textFieldExpression>
				</textField>
						</cellContents>
						</crosstabColumnHeader>
					</columnGroup>
					<columnGroup name="TotalQuantityInvocied" height="0">
						<bucket>
							<bucketExpression class="java.math.BigDecimal"><![CDATA[$F{totalinvoicequatity}]]></bucketExpression>
						</bucket>
					</columnGroup>

					<measure name="BaseValue" class="java.math.BigDecimal">
						<measureExpression><![CDATA[$F{basevalue}]]></measureExpression>
					</measure>
					<measure name="VATClaimed" class="java.math.BigDecimal">
						<measureExpression><![CDATA[$F{vatclaimed}]]></measureExpression>
					</measure>
					<measure name="QuantityGrandTotal" class="java.math.BigDecimal">
						<measureExpression><![CDATA[$F{totalinvoicequatity}]]></measureExpression>
					</measure>
					<measure name="Base Grand Total" class="java.math.BigDecimal" calculation="Sum">
						<measureExpression><![CDATA[$F{basevalue}]]></measureExpression>
					</measure>
					<measure name="SumOfTaxClaimed" class="java.math.BigDecimal" calculation="Sum">
						<measureExpression><![CDATA[$F{vatclaimed}]]></measureExpression>
					</measure>
					<measure name="SumofBaseValue" class="java.math.BigDecimal" calculation="Sum">
						<measureExpression><![CDATA[$F{basevalue}]]></measureExpression>
					</measure>
					<crosstabCell width="133" height="30">
						<cellContents mode="Transparent">
					<box></box>
				<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="0"
						width="64"
						height="30"
						key="textField"
						stretchType="RelativeToBandHeight"/>
					<box>					<topPen lineWidth="0.25"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$V{BaseValue}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="64"
						y="0"
						width="69"
						height="30"
						key="textField"
						stretchType="RelativeToBandHeight"/>
					<box>					<topPen lineWidth="0.25"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$V{VATClaimed}]]></textFieldExpression>
				</textField>
						</cellContents>
					</crosstabCell>
					<crosstabCell width="0" height="30" columnTotalGroup="taxname">
						<cellContents mode="Transparent">
					<box></box>
						</cellContents>
					</crosstabCell>
					<crosstabCell width="133" height="0" rowTotalGroup="particulars">
						<cellContents mode="Transparent">
					<box></box>
						</cellContents>
					</crosstabCell>
					<crosstabCell width="0" height="0" rowTotalGroup="particulars" columnTotalGroup="taxname">
						<cellContents mode="Transparent">
					<box></box>
						</cellContents>
					</crosstabCell>
					<crosstabCell width="133" height="18" rowTotalGroup="invoicedate">
						<cellContents mode="Transparent">
					<box></box>
				<textField isStretchWithOverflow="true" pattern="###0.00;-###0.00" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="64"
						y="0"
						width="69"
						height="18"
						key="textField"/>
					<box>					<topPen lineWidth="0.25" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Bottom">
						<font isUnderline="false" isStrikeThrough="false" />
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$V{SumOfTaxClaimed}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="###0.00;-###0.00" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="0"
						width="64"
						height="18"
						key="textField"/>
					<box>					<topPen lineWidth="0.25" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
</box>
					<textElement textAlignment="Center" verticalAlignment="Bottom">
						<font isUnderline="false"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$V{SumofBaseValue}]]></textFieldExpression>
				</textField>
						</cellContents>
					</crosstabCell>
					<crosstabCell width="0" height="18" rowTotalGroup="invoicedate" columnTotalGroup="taxname">
						<cellContents mode="Transparent">
					<box></box>
						</cellContents>
					</crosstabCell>
					<crosstabCell width="133" height="0" rowTotalGroup="QuantityInvoiced">
						<cellContents mode="Transparent">
					<box></box>
						</cellContents>
					</crosstabCell>
					<crosstabCell width="0" height="0" rowTotalGroup="QuantityInvoiced" columnTotalGroup="taxname">
						<cellContents mode="Transparent">
					<box></box>
						</cellContents>
					</crosstabCell>
					<crosstabCell width="133" height="0" rowTotalGroup="GrossAmount">
						<cellContents mode="Transparent">
					<box></box>
						</cellContents>
					</crosstabCell>
					<crosstabCell width="0" height="0" rowTotalGroup="GrossAmount" columnTotalGroup="taxname">
						<cellContents mode="Transparent">
					<box></box>
						</cellContents>
					</crosstabCell>
					<crosstabCell width="133" height="0" rowTotalGroup="TotalBaseAmount">
						<cellContents mode="Transparent">
					<box></box>
						</cellContents>
					</crosstabCell>
					<crosstabCell width="0" height="0" rowTotalGroup="TotalBaseAmount" columnTotalGroup="taxname">
						<cellContents mode="Transparent">
					<box></box>
						</cellContents>
					</crosstabCell>
					<crosstabCell width="0" height="30" columnTotalGroup="TotalQuantityInvocied">
						<cellContents mode="Transparent">
					<box></box>
						</cellContents>
					</crosstabCell>
					<crosstabCell width="0" height="0" rowTotalGroup="GrossAmount" columnTotalGroup="TotalQuantityInvocied">
						<cellContents mode="Transparent">
					<box></box>
						</cellContents>
					</crosstabCell>
					<crosstabCell width="0" height="0" rowTotalGroup="TotalBaseAmount" columnTotalGroup="TotalQuantityInvocied">
						<cellContents mode="Transparent">
					<box></box>
						</cellContents>
					</crosstabCell>
					<crosstabCell width="0" height="0" rowTotalGroup="QuantityInvoiced" columnTotalGroup="TotalQuantityInvocied">
						<cellContents mode="Transparent">
					<box></box>
						</cellContents>
					</crosstabCell>
					<crosstabCell width="0" height="0" rowTotalGroup="particulars" columnTotalGroup="TotalQuantityInvocied">
						<cellContents mode="Transparent">
					<box></box>
						</cellContents>
					</crosstabCell>
					<crosstabCell width="0" height="18" rowTotalGroup="invoicedate" columnTotalGroup="TotalQuantityInvocied">
						<cellContents mode="Transparent">
					<box></box>
						</cellContents>
					</crosstabCell>
					<whenNoDataCell>						<cellContents mode="Transparent">
					<box></box>
						</cellContents>
					</whenNoDataCell>					</crosstab>
				<textField isStretchWithOverflow="true" pattern="###0;-###0" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="190"
						y="58"
						width="48"
						height="18"
						key="textField-2"
						positionType="FixRelativeToBottom"/>
					<box></box>
					<textElement textAlignment="Right" verticalAlignment="Top">
						<font pdfFontName="Helvetica-Bold" isBold="true" isUnderline="false"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$F{totalinvoicequatity}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="##0.00" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="281"
						y="58"
						width="72"
						height="18"
						key="textField-3"
						positionType="FixRelativeToBottom"/>
					<box></box>
					<textElement textAlignment="Right" verticalAlignment="Top">
						<font pdfFontName="Helvetica-Bold" isBold="true" isUnderline="false"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$F{grandbasevalue}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="##0.00" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="368"
						y="58"
						width="68"
						height="18"
						key="textField-4"
						positionType="FixRelativeToBottom"/>
					<box></box>
					<textElement textAlignment="Right" verticalAlignment="Top">
						<font pdfFontName="Helvetica-Bold" isBold="true" isUnderline="false"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$V{TotalGross}]]></textFieldExpression>
				</textField>
			</band>
		</summary>
		<noData>
			<band height="30"  isSplitAllowed="true" >
				<staticText>
					<reportElement
						x="457"
						y="5"
						width="384"
						height="18"
						key="staticText-5"/>
					<box></box>
					<textElement textAlignment="Center">
						<font pdfFontName="Helvetica-Bold" size="14" isBold="true"/>
					</textElement>
				<text><![CDATA[DATA NOT FOUND]]></text>
				</staticText>
			</band>
		</noData>
</jasperReport>
